<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>All County Fl -  Construction Company</title>
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta content="All County Construction" name="keywords">
        <meta content="All County Construction" name="description">
    
        
	<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">
    
        <!-- Google Font -->
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

        <!-- CSS Libraries -->
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
        <link href="lib/flaticon/font/flaticon.css" rel="stylesheet"> 
        <link href="lib/animate/animate.min.css" rel="stylesheet">
        <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
        <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">
        <link href="lib/slick/slick.css" rel="stylesheet">
        <link href="lib/slick/slick-theme.css" rel="stylesheet">

        <!-- Template Stylesheet -->
        <link href="css/style.css" rel="stylesheet">
    </head>

    <body>
        <div class="wrapper">
             <!-- Top Bar Start -->
             <div class="top-bar">
                <div class="container-fluid">
                    <div class="row align-items-center justify-content-center">
                        <div class="col-lg-4 col-md-12">
                            <div class="logo">
                                <a href="index.html">
                                 <img src="img/new/logo.png" alt="Logo" class="logoImg"> 
                                </a>
                            </div>
                        </div>
                        <div class="col-lg-8 col-md-7 d-none d-lg-block" >
                            <div class="row" style="padding-top:15px ;">
                                <div class="col-4">
                                    <div class="top-bar-item">
                                        <div class="top-bar-icon">
                                            <i class="flaticon-calendar"></i>
                                        </div>
                                        <div class="top-bar-text">
                                            <h3>Opening Hour</h3>
                                            <p>Mon - Fri, 8:00am - 4:00pm</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="top-bar-item">
                                        <div class="top-bar-icon">
                                            <i class="flaticon-call"></i>
                                        </div>
                                        <div class="top-bar-text">
                                            <h3>Call Us</h3>
                                            <p>+(407) 686 3865</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="top-bar-item">
                                        <div class="top-bar-icon">
                                            <i class="flaticon-send-mail"></i>
                                        </div>
                                        <div class="top-bar-text">
                                            <h3>Email Us</h3>
                                            <p>marcus@allcountyfl.com</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Top Bar End -->

            <!-- Nav Bar Start -->
            <div class="nav-bar">
                <div class="container-fluid">
                    <nav class="navbar navbar-expand-lg bg-dark navbar-dark">
                        <a href="#" class="navbar-brand">MENU</a>
                        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                            <span class="navbar-toggler-icon"></span>
                        </button>

                        <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
                            <div class="navbar-nav mr-auto">
                                <a href="index.html" class="nav-item nav-link active">Home</a>
                                <a href="about.html" class="nav-item nav-link">About</a>
                                <a href="service.html" class="nav-item nav-link">Service</a>
                                <a href="portfolio.html" class="nav-item nav-link">Project</a>
                                <a href="blog.html" class="nav-item nav-link">Blogs</a>
                                <a href="contact.html" class="nav-item nav-link">Contact</a>
                            </div>
                            
                        </div>
                    </nav>
                </div>
            </div>
            <!-- Nav Bar End -->
            
            <!-- Page Header Start -->
            <div class="page-header">
                <div class="container">
                    <div class="row">
                        <div class="col-12">
                            <h2>Admin Blogs</h2>
                        </div>
                        <div class="col-12">
                            <a href="blog.html">Blogs</a>
                            <a href="blogs-admin-page.html">Admin Blogs</a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Page Header End -->

<!-- Blog Start -->
<div class="blog">
    <div class="container">
        <div class="section-header text-center">
            <p>Admin Blog Manager</p>
            <h2>Create New Blog</h2>
        </div>

        <!-- Blog Intake Form -->
        <form id="blogForm" class="mb-5" enctype="multipart/form-data">
            <div class="form-group mb-3">
                <input type="text" id="title" class="form-control" placeholder="Title" required>
            </div>
            <div class="form-group mb-3">
                <input type="text" id="category" class="form-control" placeholder="category" required>
            </div>
            <div class="form-group mb-3">
                <input type="file" id="image" class="form-control" accept="image/*" required>
            </div>
            <div class="form-group mb-3">
                <textarea id="description" class="form-control" rows="4" placeholder="Description" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary" id="submitBlogBtn">Submit Blog</button>
        </form>

        <!-- Blog List -->
        <div class="section-header text-center">
            <h2>All Blogs</h2>
        </div>
        <table class="table table-bordered text-center">
            <thead>
                <tr>
                    <th>Sr No</th>
                    <th>Title</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="blogList"></tbody>
        </table>
    </div>
</div>
<!-- Blog End -->
<style>
    .blog form {
        background: #f9f9f9;
        padding: 30px;
        border-radius: 12px;
        max-width: 700px;
        margin: 0 auto 50px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
    }

    .blog .form-group {
        width: 100%;
        margin-bottom: 20px;
    }

    .blog .form-control {
        width: 100%;
        padding: 12px 15px;
        border: 1px solid #ccc;
        border-radius: 8px;
        font-size: 16px;
        transition: border-color 0.2s ease;
        box-sizing: border-box;
    }

    .blog .form-control[type="file"] {
        padding: 10px 12px;
        height: auto;
        background-color: #fff;
        line-height: 1.5;
    }

    .blog .form-control:focus {
        border-color: #1a1a1a;
        outline: none;
        box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.15);
    }

    .blog button {
        background-color: #1a1a1a;
        color: #fff;
        padding: 12px 30px;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        cursor: pointer;
        transition: background-color 0.2s ease;
    }

    .blog button:hover {
        background-color: #000;
    }
</style><script>
    const form = document.getElementById('blogForm');
    const blogList = document.getElementById('blogList');
    const submitBtn = document.getElementById('submitBlogBtn');

    async function fetchBlogs() {
        const res = await fetch('https://blogs-admin-editor.vercel.app/api/construction/blogs');
        const blogs = await res.json();
        blogList.innerHTML = '';

        if (blogs.length === 0) {
            const row = document.createElement('tr');
            row.innerHTML = `<td colspan="3" class="text-center text-muted">No blogs found.</td>`;
            blogList.appendChild(row);
            return;
        }

        blogs.forEach((blog, index) => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${index + 1}</td>
                <td>${blog.title}</td>
                <td><button class="btn btn-danger btn-sm" onclick="deleteBlog(this, '${blog._id}')">Delete</button></td>
            `;
            blogList.appendChild(row);
        });
    }

    form.addEventListener('submit', async (e) => {
        e.preventDefault();

        // Change to "Saving..." with orange text
        submitBtn.textContent = 'Saving...';
        submitBtn.style.color = '#fd7e14';

        const formData = new FormData();
        formData.append('title', document.getElementById('title').value);
        formData.append('category', document.getElementById('category').value);
        formData.append('image', document.getElementById('image').files[0]);
        formData.append('description', document.getElementById('description').value);

        await fetch('https://blogs-admin-editor.vercel.app/api/construction/blogs', {
            method: 'POST',
            body: formData
        });

        form.reset();
        fetchBlogs();

        // Change to "Saved" with green text
        submitBtn.textContent = 'Saved';
        submitBtn.style.color = '#28a745';

        // After 4 seconds, reset
        setTimeout(() => {
            submitBtn.textContent = 'Add Blog';
            submitBtn.style.color = '';
        }, 4000);
    });

    async function deleteBlog(button, id) {
        const originalText = button.textContent;
        button.textContent = 'Deleting...';
        button.disabled = true;

        await fetch(`https://blogs-admin-editor.vercel.app/api/construction/blogs/${id}`, {
            method: 'DELETE'
        });

        fetchBlogs();
    }

    fetchBlogs();
</script>


          <!-- Footer Start -->
          <div class="footer wow fadeIn" data-wow-delay="0.3s">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-lg-3">
                        <div class="footer-contact">
                            <h2>Office Contact</h2>
                            <p><i class="fa fa-map-marker-alt"></i>470 Citi Centre St#1228, Winter Haven, FL 33880</p>
                            <p><i class="fa fa-phone-alt"></i>+(407) 686 3865</p>
                            <p><i class="fa fa-envelope"></i>Marcus@allcountyfl.com</p>
                            <div class="footer-social">
                                <a href="https://www.facebook.com/profile.php?id=61567198422479"><i class="fab fa-facebook-f"></i></a>
                                <a href="https://www.instagram.com/allcountyconstructionfl?igsh=bHd0cHI1YWIyNjFx"><i class="fab fa-instagram"></i></a>
                               </div>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-3">
                        <div class="footer-link">
                            <h2>Service Areas</h2>
                            <a href="#">General Contracting</a>
                            <a href="#">Home Renovations</a>
                            <a href="#">Remodeling Services</a>
                            <a href="#">Flooring & Tile Work</a>
                            <a href="#">Custom Carpentry</a>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-3">
                        <div class="footer-link">
                            <h2>Useful Pages</h2>
                            <a href="about.html">About Us</a>
                            <a href="contact.html">Contact Us</a>
                            <a href="index.html#team">Our Team</a>
                            <a href="portfolio.html">Projects</a>
                            <a href="index.html#testimonials">Testimonial</a>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-3">
                        <div class="newsletter">
                            <h2>About Us</h2>
                            <p>
                                With years of experience in residential and commercial construction, All County Construction delivers quality craftsmanship, dependable service, and complete customer satisfaction on every project.
                            </p>
                            <!--
                            <div class="form">
                                <input class="form-control" placeholder="Email here">
                                <button class="btn">Submit</button>
                            </div> 
                           -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="container footer-menu">
                <div class="f-menu">
                    <a href="terms-of-use.html">Terms of use</a>
                    <a href="privacy-policy.html">Privacy policy</a>
                    <a href="contact.html">Help</a>
                    <a href="index.html#faqs">FQAs</a>
                </div>
            </div>
            
            <div class="container copyright">
                <div class="row">
                    <div class="col-md-6">
                        <p>&copy; <a href="#">All County Construction</a>, All Right Reserved.</p>
                    </div>
                    
                    
                    <div class="col-md-6">
                        <p>Credit <a href="#">Wajih ul Hassan</a></p>
                    </div>
                </div>
            </div>
        </div>
        <!-- Footer End -->
<a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>
        </div>

        <!-- JavaScript Libraries -->
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
        <script src="lib/easing/easing.min.js"></script>
        <script src="lib/wow/wow.min.js"></script>
        <script src="lib/owlcarousel/owl.carousel.min.js"></script>
        <script src="lib/isotope/isotope.pkgd.min.js"></script>
        <script src="lib/lightbox/js/lightbox.min.js"></script>
        <script src="lib/waypoints/waypoints.min.js"></script>
        <script src="lib/counterup/counterup.min.js"></script>
        <script src="lib/slick/slick.min.js"></script>

        <!-- Template Javascript -->
        <script src="js/main.js"></script>
    </body>
</html>
